{"id":"cd6d4c19-4607-4eca-a8ee-6174bf259e9b","revision":0,"last_node_id":13,"last_link_id":11,"nodes":[{"id":8,"type":"VHS_LoadVideo","pos":[100,160],"size":[247.455078125,452.25660792951544],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"COMBO","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[5,7]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":null}],"properties":{"aux_id":"Kosinkadink/ComfyUI-VideoHelperSuite","ver":"537f3a02269e14ab4b0350d4189a52034e9a3b12","Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"2921786469340851.mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"AnimateDiff","choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"filename":"2921786469340851.mp4","type":"input","format":"video/mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}}},{"id":7,"type":"VHS_LoadVideo","pos":[-180,-180],"size":[247.455078125,452.25660792951544],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"COMBO","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[4,6,8]},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":null}],"properties":{"aux_id":"Kosinkadink/ComfyUI-VideoHelperSuite","ver":"537f3a02269e14ab4b0350d4189a52034e9a3b12","Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"2921773226276930.mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"AnimateDiff","choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"filename":"2921773226276930.mp4","type":"input","format":"video/mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}}},{"id":3,"type":"DigbyWanVACEVideoBridge","pos":[520,240],"size":[300,220],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"video1","name":"video1","type":"IMAGE","link":6},{"localized_name":"video2","name":"video2","type":"IMAGE","link":7},{"localized_name":"output_length","name":"output_length","type":"INT","widget":{"name":"output_length"},"link":null},{"localized_name":"frames_from_each_source","name":"frames_from_each_source","type":"INT","widget":{"name":"frames_from_each_source"},"link":null}],"outputs":[{"localized_name":"vace_control_video","name":"vace_control_video","type":"IMAGE","links":[2]},{"localized_name":"vace_control_masks","name":"vace_control_masks","type":"MASK","links":[10]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"length","name":"length","type":"INT","links":null},{"localized_name":"start_images","name":"start_images","type":"IMAGE","links":null},{"localized_name":"end_images","name":"end_images","type":"IMAGE","links":null}],"properties":{"aux_id":"JosDigby/ComfyUI-DigbyWan","ver":"dde592f5022ae4206896b241fae7e8a697c351b2","Node name for S&R":"DigbyWanVACEVideoBridge"},"widgets_values":[25,8]},{"id":5,"type":"PreviewImage","pos":[960,240],"size":[300,258],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":2}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.76","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":11,"type":"MaskPreview","pos":[1300,240],"size":[300,258],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":10}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.76","Node name for S&R":"MaskPreview"},"widgets_values":[]},{"id":6,"type":"PreviewImage","pos":[960,560],"size":[300,258],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":3}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.76","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":10,"type":"MaskPreview","pos":[1300,560],"size":[300,258],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":11}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.76","Node name for S&R":"MaskPreview"},"widgets_values":[]},{"id":2,"type":"DigbyWanVACEVideoExtend","pos":[520,560],"size":[300,220],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"video","name":"video","type":"IMAGE","link":8},{"localized_name":"output_length","name":"output_length","type":"INT","widget":{"name":"output_length"},"link":null},{"localized_name":"frames_to_keep","name":"frames_to_keep","type":"INT","widget":{"name":"frames_to_keep"},"link":null}],"outputs":[{"localized_name":"vace_control_video","name":"vace_control_video","type":"IMAGE","links":[3]},{"localized_name":"vace_control_masks","name":"vace_control_masks","type":"MASK","links":[11]},{"localized_name":"start_frame","name":"start_frame","type":"IMAGE","links":null},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"length","name":"length","type":"INT","links":null},{"localized_name":"start_images","name":"start_images","type":"IMAGE","links":null}],"properties":{"aux_id":"JosDigby/ComfyUI-DigbyWan","ver":"dde592f5022ae4206896b241fae7e8a697c351b2","Node name for S&R":"DigbyWanVACEVideoExtend"},"widgets_values":[25,8]},{"id":1,"type":"DigbyWanVACEVideoSmooth","pos":[520,-100],"size":[300,246],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"video1","name":"video1","type":"IMAGE","link":4},{"localized_name":"video2","name":"video2","shape":7,"type":"IMAGE","link":5},{"localized_name":"output_length","name":"output_length","type":"INT","widget":{"name":"output_length"},"link":null},{"localized_name":"transition_frame","name":"transition_frame","type":"INT","widget":{"name":"transition_frame"},"link":null},{"localized_name":"include_transition_frame","name":"include_transition_frame","type":"BOOLEAN","widget":{"name":"include_transition_frame"},"link":null}],"outputs":[{"localized_name":"vace_control_video","name":"vace_control_video","type":"IMAGE","links":[1]},{"localized_name":"vace_control_masks","name":"vace_control_masks","type":"MASK","links":[9]},{"localized_name":"transition_frame","name":"transition_frame","type":"IMAGE","links":null},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null},{"localized_name":"length","name":"length","type":"INT","links":null},{"localized_name":"start_images","name":"start_images","type":"IMAGE","links":null},{"localized_name":"end_images","name":"end_images","type":"IMAGE","links":null}],"properties":{"aux_id":"JosDigby/ComfyUI-DigbyWan","ver":"dde592f5022ae4206896b241fae7e8a697c351b2","Node name for S&R":"DigbyWanVACEVideoSmooth"},"widgets_values":[25,0,true]},{"id":4,"type":"PreviewImage","pos":[960,-100],"size":[300,258],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":1}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.76","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":9,"type":"MaskPreview","pos":[1300,-100],"size":[300,258],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":9}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.76","Node name for S&R":"MaskPreview"},"widgets_values":[]},{"id":13,"type":"WanVaceToVideo","pos":[1720,200],"size":[270,254],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":null},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":null},{"localized_name":"vae","name":"vae","type":"VAE","link":null},{"localized_name":"control_video","name":"control_video","shape":7,"type":"IMAGE","link":null},{"localized_name":"control_masks","name":"control_masks","shape":7,"type":"MASK","link":null},{"localized_name":"reference_image","name":"reference_image","shape":7,"type":"IMAGE","link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"length","name":"length","type":"INT","widget":{"name":"length"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":null},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":null},{"localized_name":"latent","name":"latent","type":"LATENT","links":null},{"localized_name":"trim_latent","name":"trim_latent","type":"INT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.76","Node name for S&R":"WanVaceToVideo"},"widgets_values":[832,480,81,1,1]},{"id":12,"type":"MarkdownNote","pos":[360,-360],"size":[1040,160],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["This workflow demonstrates the output of the various VACE nodes in DigbyWan.  The *vace_control_video* and *vace_control_masks* outputs would feed directly into *WanVaceToVideo* node in a basic VACE workflow.\n\nThese nodes eliminate the convoluted node spaghetti that would be needed with core nodes to accomplish the same outputs.  Subgraphs may make these nodes obsolete, but I think it's cleaner this way.  \n\nThis demo uses VideoHelperSuite custom nodes for image loading."],"color":"#432","bgcolor":"#653"}],"links":[[1,1,0,4,0,"IMAGE"],[2,3,0,5,0,"IMAGE"],[3,2,0,6,0,"IMAGE"],[4,7,0,1,0,"IMAGE"],[5,8,0,1,1,"IMAGE"],[6,7,0,3,0,"IMAGE"],[7,8,0,3,1,"IMAGE"],[8,7,0,2,0,"IMAGE"],[9,1,1,9,0,"MASK"],[10,3,1,11,0,"MASK"],[11,2,1,10,0,"MASK"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.6571760615276121,"offset":[661.1398268795845,674.0627276583842]},"workflowRendererVersion":"LG"},"version":0.4}